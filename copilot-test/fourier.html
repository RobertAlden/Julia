<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.classless.min.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
  </head>
  <body>
    <main>
        <article id="article">
            <header>
                <hgroup> 
                    <h1>Welcome to the Robert Zone</h1>
                    <h4>Safety not guaranteed</h4> 
                </hgroup>
                <nav>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/fourier">Fourier-er</a></li>
                        <li><a href="/about">About this site</a></li>
                    </ul>
                </nav>
            </header>
            <h2>Fourier Epicyclic Gif Generator-omatic</h2>
            <body>
                <p>
                    This is a tool to generate gifs of epicyclic curves based on the fourier transform of a given text. 
                    The text is converted to a series of points, and the fourier transform is used to find the epicycles that best fit the points. 
                    The epicycles are then drawn in sequence to create the gif. 
                    <br>Images coming soon. 
                </p>
            </body>
            
            <form action="/fourier" method="POST" enctype="multipart/form-data">
                <label for="word">Input Text: </label><input type="text" name="word" /><br>
                <label for="terms">Epicycle #: </label><input type="number" name="terms" min="1" max="1000" value="250" required><br>
                <label for="precision">Precision: </label> <input type="number" name="precision" min="1" max="100" required><br>
                <button type="submit" aria-busy="false" onclick="doClick()">Fourier this text!</button>
            </form>

            <p>
                Your gif will appear below:<br>
            </p>
            <img src="data:image/gif;base64,$(vars(:data))">

            <script>
                function doClick() {
                    document.querySelector('input[type="submit"]').setAttribute('aria-busy', true);
                    //document.querySelector('input[type="submit"]').setAttribute('disabled', true);
                } 
            </script>
            <footer><small>Footer</small></footer>
        </article>
    </main>
  </body>
</html>